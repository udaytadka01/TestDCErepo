<template>
    <div class="slds-p-around_none slds-m-top_x-small slds-m-bottom_medium slds-m-horizontal_none">
        <lightning-layout multiple-rows>
            <lightning-layout-item size="12" padding="around-small">
                <h2 class="slds-text-heading_small">Basic Information</h2>
            </lightning-layout-item>
            <lightning-layout-item size="6" padding="around-small">
                <lightning-input type="text" label="First Name" value={firstName} onchange={handleFirstNameChange} required class="input"></lightning-input>
            </lightning-layout-item>
            <lightning-layout-item size="6" padding="around-small">
                <lightning-input type="text" label="Last Name" value={lastName} onchange={handleLastNameChange} required class="input"></lightning-input>
            </lightning-layout-item>
            <lightning-layout-item size="6" padding="around-small">
                <lightning-input class="input" type="email" label="Email address" value={emailAddress} onchange={handleEmailChange} required></lightning-input>
            </lightning-layout-item>
            <lightning-layout-item size="6" padding="around-small">
                <template if:false={isPractitioner}>
                    <lightning-combobox
                        name="role"
                        label="Role"
                        value={userRoles}
                        options={rolePicklistValues}
                        onchange={handleRoleChange}>
                    </lightning-combobox>
                </template>
            </lightning-layout-item>
            <lightning-layout-item size="6" padding="around-small">
                <h2 class="slds-text-heading_small">Select Practice Groups</h2>
            </lightning-layout-item>
            <lightning-layout-item size="6" padding="around-small">
                <h2 class="slds-text-heading_small">Additional Permissions</h2>
            </lightning-layout-item>
            <lightning-layout-item size="6" padding="around-small">
                <lightning-dual-listbox name="practice groups"
                                        label="Select one or more"
                                        source-label="Available"
                                        selected-label="Selected"
                                        field-level-help="Select which practice groups this user belongs to"
                                        min="1"
                                        options={practiceGroupOptions}
                                        value={selectedPracticeGroups}
                                        onchange={handlePracticeGroupChange}
                                        class="input"></lightning-dual-listbox>
            </lightning-layout-item>
            <lightning-layout-item size="6" padding="around-small">
                Additional Permissions Listed here
            </lightning-layout-item>
            <lightning-layout-item size="12" padding="around-small">
                <div class="slds-clearfix slds-var-m-top_medium">
                    <template if:true={requiredFieldsPresent}>
                        <lightning-button label="Save" variant="brand" class="slds-float_right slds-var-m-left_xx-small" onclick={handleSave}></lightning-button>
                    </template>
                    <template if:false={requiredFieldsPresent}>
                        <lightning-button label="Save" variant="brand" class="slds-float_right slds-var-m-left_xx-small" disabled></lightning-button>
                    </template>
                    <lightning-button label="Cancel" class="slds-float_right" onclick={handleCancel}></lightning-button>
                </div>
            </lightning-layout-item>
        </lightning-layout>
        <template if:true={loading}>
            <lightning-spinner alternative-text="Loading"></lightning-spinner>
        </template>
    </div>
</template>